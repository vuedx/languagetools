# Vue Virtual TextDocument

An implementation of virtual filesystem for accessing blocks in a `.vue` file as independent files.

```
npm add @vuedx/vue-virtual-textdocument
```
<!-- #region API-DOCS -->
<!-- Do not edit this file. It is a report generated by [scripts/docgen.js](https://github.com/znck/vue-developer-experience/tree/main/scripts/docgen.js). -->

## API


<a href="#-vuedx-vue-virtual-textdocument-VueSFCDocument-class" id="-vuedx-vue-virtual-textdocument-VueSFCDocument-class"></a>

### [VueSFCDocument](#-vuedx-vue-virtual-textdocument-VueSFCDocument-class)



<details><summary>More info</summary>

**Signature:**
```ts
export declare class VueSFCDocument implements TextDocument {
  get blocks(): SFCBlock[];
  static create(fileName: string, content: string, options?: Omit<CompileOptions, 'cache' | 'fileName'>, version?: number): VueSFCDocument;
  get descriptor(): SFCDescriptor;
  get errors(): Array<CompilerError | SyntaxError>;
  get fileName(): string;
  findGeneratedTextSpan(spanInOriginalText: TextSpan): TextSpan | null;
  findMapping(positionType: 'original' | 'generated', position: Position, searchBias?: SourceMapBiasType): Mapping | null;
  findOriginalTextSpan(spanInGeneratedText: TextSpan): TextSpan | null;
  get generated(): TextDocument;
  readonly generatedFileName: string;
  generatedOffsetAt(offset: number): number | null;
  generatedPositionFor(position: Position): Position | null;
  getBlockAt(offset: number): SFCBlock | null;
  getLineAndCharacterOfPosition(position: number): Position;
  getSourceFile(fileName?: string): {
        fileName: string;
        readonly text: string;
        lineMap: unknown;
        getLineAndCharacterOfPosition: (position: number) => Position;
    };
  getText(range?: Range): string;
  get languageId(): string;
  get lineCount(): number;
  lineMap: unknown | undefined;
  get map(): string;
  offsetAt(position: Position): number;
  readonly options: Required<CompileOptions>;
  get original(): TextDocument;
  readonly originalFileName: string;
  originalOffsetAt(offset: number): number | null;
  originalPositionFor(position: Position): Position | null;
  positionAt(offset: number): Position;
  get snapshot(): VueToTsxSnapshot;
  get templateAST(): RootNode | undefined;
  get text(): string;
  update(changes: TextDocumentContentChangeEvent[], version: number): void;
  get uri(): string;
  get version(): number;
}
```

**Members:**


<a href="#-vuedx-vue-virtual-textdocument-VueSFCDocument-create-member-1-" id="-vuedx-vue-virtual-textdocument-VueSFCDocument-create-member-1-"></a>

#### [create](#-vuedx-vue-virtual-textdocument-VueSFCDocument-create-member-1-)



**Signature:**
```ts
static create(fileName: string, content: string, options?: Omit<CompileOptions, 'cache' | 'fileName'>, version?: number): VueSFCDocument;
```

| Parameter | Type | Description |
| --- | --- | --- |
| fileName | <code>string</code> | - |
| content | <code>string</code> | - |
| options | <code><a href="#-Omit-type">Omit</a><<a href="#-vuedx-compiler-tsx-CompileOptions-interface">CompileOptions</a>, 'cache' &#124; 'fileName'></code> | - |
| version | <code>number</code> | - |

<br>

<a href="#-vuedx-vue-virtual-textdocument-VueSFCDocument-findGeneratedTextSpan-member-1-" id="-vuedx-vue-virtual-textdocument-VueSFCDocument-findGeneratedTextSpan-member-1-"></a>

#### [findGeneratedTextSpan](#-vuedx-vue-virtual-textdocument-VueSFCDocument-findGeneratedTextSpan-member-1-)



**Signature:**
```ts
findGeneratedTextSpan(spanInOriginalText: TextSpan): TextSpan | null;
```

| Parameter | Type | Description |
| --- | --- | --- |
| spanInOriginalText | <code><a href="#-vuedx-vue-virtual-textdocument-TextSpan-interface">TextSpan</a></code> | - |

<br>

<a href="#-vuedx-vue-virtual-textdocument-VueSFCDocument-findMapping-member-1-" id="-vuedx-vue-virtual-textdocument-VueSFCDocument-findMapping-member-1-"></a>

#### [findMapping](#-vuedx-vue-virtual-textdocument-VueSFCDocument-findMapping-member-1-)



**Signature:**
```ts
findMapping(positionType: 'original' | 'generated', position: Position, searchBias?: SourceMapBiasType): Mapping | null;
```

| Parameter | Type | Description |
| --- | --- | --- |
| positionType | <code>'original' &#124; 'generated'</code> | - |
| position | <code><a href="#vscode-languageserver-textdocument-Position-interface">Position</a></code> | - |
| searchBias | <code><a href="#-vuedx-vue-virtual-textdocument--SourceMapBiasType-type">SourceMapBiasType</a></code> | - |

<br>

<a href="#-vuedx-vue-virtual-textdocument-VueSFCDocument-findOriginalTextSpan-member-1-" id="-vuedx-vue-virtual-textdocument-VueSFCDocument-findOriginalTextSpan-member-1-"></a>

#### [findOriginalTextSpan](#-vuedx-vue-virtual-textdocument-VueSFCDocument-findOriginalTextSpan-member-1-)



**Signature:**
```ts
findOriginalTextSpan(spanInGeneratedText: TextSpan): TextSpan | null;
```

| Parameter | Type | Description |
| --- | --- | --- |
| spanInGeneratedText | <code><a href="#-vuedx-vue-virtual-textdocument-TextSpan-interface">TextSpan</a></code> | - |

<br>

<a href="#-vuedx-vue-virtual-textdocument-VueSFCDocument-generatedOffsetAt-member-1-" id="-vuedx-vue-virtual-textdocument-VueSFCDocument-generatedOffsetAt-member-1-"></a>

#### [generatedOffsetAt](#-vuedx-vue-virtual-textdocument-VueSFCDocument-generatedOffsetAt-member-1-)



**Signature:**
```ts
generatedOffsetAt(offset: number): number | null;
```

| Parameter | Type | Description |
| --- | --- | --- |
| offset | <code>number</code> | - |

<br>

<a href="#-vuedx-vue-virtual-textdocument-VueSFCDocument-generatedPositionFor-member-1-" id="-vuedx-vue-virtual-textdocument-VueSFCDocument-generatedPositionFor-member-1-"></a>

#### [generatedPositionFor](#-vuedx-vue-virtual-textdocument-VueSFCDocument-generatedPositionFor-member-1-)



**Signature:**
```ts
generatedPositionFor(position: Position): Position | null;
```

| Parameter | Type | Description |
| --- | --- | --- |
| position | <code><a href="#vscode-languageserver-textdocument-Position-interface">Position</a></code> | - |

<br>

<a href="#-vuedx-vue-virtual-textdocument-VueSFCDocument-getBlockAt-member-1-" id="-vuedx-vue-virtual-textdocument-VueSFCDocument-getBlockAt-member-1-"></a>

#### [getBlockAt](#-vuedx-vue-virtual-textdocument-VueSFCDocument-getBlockAt-member-1-)



**Signature:**
```ts
getBlockAt(offset: number): SFCBlock | null;
```

| Parameter | Type | Description |
| --- | --- | --- |
| offset | <code>number</code> | - |

<br>

<a href="#-vuedx-vue-virtual-textdocument-VueSFCDocument-getLineAndCharacterOfPosition-member-1-" id="-vuedx-vue-virtual-textdocument-VueSFCDocument-getLineAndCharacterOfPosition-member-1-"></a>

#### [getLineAndCharacterOfPosition](#-vuedx-vue-virtual-textdocument-VueSFCDocument-getLineAndCharacterOfPosition-member-1-)



**Signature:**
```ts
getLineAndCharacterOfPosition(position: number): Position;
```

| Parameter | Type | Description |
| --- | --- | --- |
| position | <code>number</code> | - |

<br>

<a href="#-vuedx-vue-virtual-textdocument-VueSFCDocument-getSourceFile-member-1-" id="-vuedx-vue-virtual-textdocument-VueSFCDocument-getSourceFile-member-1-"></a>

#### [getSourceFile](#-vuedx-vue-virtual-textdocument-VueSFCDocument-getSourceFile-member-1-)



**Signature:**
```ts
getSourceFile(fileName?: string): {
        fileName: string;
        readonly text: string;
        lineMap: unknown;
        getLineAndCharacterOfPosition: (position: number) => Position;
    };
```

| Parameter | Type | Description |
| --- | --- | --- |
| fileName | <code>string</code> | - |

<br>

<a href="#-vuedx-vue-virtual-textdocument-VueSFCDocument-getText-member-1-" id="-vuedx-vue-virtual-textdocument-VueSFCDocument-getText-member-1-"></a>

#### [getText](#-vuedx-vue-virtual-textdocument-VueSFCDocument-getText-member-1-)



**Signature:**
```ts
getText(range?: Range): string;
```

| Parameter | Type | Description |
| --- | --- | --- |
| range | <code><a href="#vscode-languageserver-textdocument-Range-interface">Range</a></code> | - |

<br>

<a href="#-vuedx-vue-virtual-textdocument-VueSFCDocument-offsetAt-member-1-" id="-vuedx-vue-virtual-textdocument-VueSFCDocument-offsetAt-member-1-"></a>

#### [offsetAt](#-vuedx-vue-virtual-textdocument-VueSFCDocument-offsetAt-member-1-)



**Signature:**
```ts
offsetAt(position: Position): number;
```

| Parameter | Type | Description |
| --- | --- | --- |
| position | <code><a href="#vscode-languageserver-textdocument-Position-interface">Position</a></code> | - |

<br>

<a href="#-vuedx-vue-virtual-textdocument-VueSFCDocument-originalOffsetAt-member-1-" id="-vuedx-vue-virtual-textdocument-VueSFCDocument-originalOffsetAt-member-1-"></a>

#### [originalOffsetAt](#-vuedx-vue-virtual-textdocument-VueSFCDocument-originalOffsetAt-member-1-)



**Signature:**
```ts
originalOffsetAt(offset: number): number | null;
```

| Parameter | Type | Description |
| --- | --- | --- |
| offset | <code>number</code> | - |

<br>

<a href="#-vuedx-vue-virtual-textdocument-VueSFCDocument-originalPositionFor-member-1-" id="-vuedx-vue-virtual-textdocument-VueSFCDocument-originalPositionFor-member-1-"></a>

#### [originalPositionFor](#-vuedx-vue-virtual-textdocument-VueSFCDocument-originalPositionFor-member-1-)



**Signature:**
```ts
originalPositionFor(position: Position): Position | null;
```

| Parameter | Type | Description |
| --- | --- | --- |
| position | <code><a href="#vscode-languageserver-textdocument-Position-interface">Position</a></code> | - |

<br>

<a href="#-vuedx-vue-virtual-textdocument-VueSFCDocument-positionAt-member-1-" id="-vuedx-vue-virtual-textdocument-VueSFCDocument-positionAt-member-1-"></a>

#### [positionAt](#-vuedx-vue-virtual-textdocument-VueSFCDocument-positionAt-member-1-)



**Signature:**
```ts
positionAt(offset: number): Position;
```

| Parameter | Type | Description |
| --- | --- | --- |
| offset | <code>number</code> | - |

<br>

<a href="#-vuedx-vue-virtual-textdocument-VueSFCDocument-update-member-1-" id="-vuedx-vue-virtual-textdocument-VueSFCDocument-update-member-1-"></a>

#### [update](#-vuedx-vue-virtual-textdocument-VueSFCDocument-update-member-1-)



**Signature:**
```ts
update(changes: TextDocumentContentChangeEvent[], version: number): void;
```

| Parameter | Type | Description |
| --- | --- | --- |
| changes | <code><a href="#vscode-languageserver-textdocument-TextDocumentContentChangeEvent-type">TextDocumentContentChangeEvent</a>[]</code> | - |
| version | <code>number</code> | - |

<br>
</details>

<br>


## Types


<a href="#-vuedx-vue-virtual-textdocument-TextSpan-interface" id="-vuedx-vue-virtual-textdocument-TextSpan-interface"></a>

### [TextSpan](#-vuedx-vue-virtual-textdocument-TextSpan-interface)



```ts
export interface TextSpan {
  length: number;
  start: number;
}
```


<br>
<!-- #region API-DOCS -->

## Support

This package is part of [VueDX project](https://github.com/znck/vue-developer-experience), maintained by [Rahul Kadyan](https://github.com/znck). You can [💖 sponsor him](https://github.com/sponsors/znck) for continued development of this package and other VueDX tools.

<p align="center">
  <a href="https://cdn.jsdelivr.net/gh/znck/sponsors@main/sponsors.svg">
    <img src='https://cdn.jsdelivr.net/gh/znck/sponsors@main/sponsors.png'/>
  </a>
</p>
