# Analyze

A tool to statically analyze Vue single file components.

## Support

This package is part of [VueDX project](https://github.com/znck/vue-developer-experience), maintained by [Rahul Kadyan](https://github.com/znck). You can [ðŸ’– sponsor him](https://github.com/sponsors/znck) for continued development of this package and other VueDX tools.

## Usage
<!-- #region API-DOCS -->
<!-- Do not edit this file. It is a report generated by [scripts/docgen.js](https://github.com/znck/vue-developer-experience/tree/master/scripts/docgen.js). -->

## API


<a href="#-vuedx-analyze-ConfiguredVueProject-class" id="-vuedx-analyze-ConfiguredVueProject-class"></a>

### [ConfiguredVueProject](#-vuedx-analyze-ConfiguredVueProject-class)



<details><summary>More info</summary>

**Signature:**
```ts
declare class ConfiguredVueProject extends VueProject {
  constructor(rootDir: string, packageFile: string | undefined, packageJSON: Partial<PackageJSON>, configFile: string, config: Readonly<ProjectConfig>, requireModule?: NodeJS.Require);
  readonly configFile: string;
  kind: "configured";
  protected refresh(): void;
  setFileNames(fileNames: string[]): void;
}
```

**Members:**


<a href="#-vuedx-analyze-ConfiguredVueProject-refresh-member-1-" id="-vuedx-analyze-ConfiguredVueProject-refresh-member-1-"></a>

#### [refresh](#-vuedx-analyze-ConfiguredVueProject-refresh-member-1-)



**Signature:**
```ts
protected refresh(): void;
```


<br>

<a href="#-vuedx-analyze-ConfiguredVueProject-setFileNames-member-1-" id="-vuedx-analyze-ConfiguredVueProject-setFileNames-member-1-"></a>

#### [setFileNames](#-vuedx-analyze-ConfiguredVueProject-setFileNames-member-1-)



**Signature:**
```ts
setFileNames(fileNames: string[]): void;
```

| Parameter | Type | Description |
| --- | --- | --- |
| fileNames | <code>string[]</code> | - |

<br>
</details>

<br>


<a href="#-vuedx-analyze-InferredVueProject-class" id="-vuedx-analyze-InferredVueProject-class"></a>

### [InferredVueProject](#-vuedx-analyze-InferredVueProject-class)



<details><summary>More info</summary>

**Signature:**
```ts
declare class InferredVueProject extends VueProject {
  kind: "inferred";
  protected refresh(): void;
}
```

**Members:**


<a href="#-vuedx-analyze-InferredVueProject-refresh-member-1-" id="-vuedx-analyze-InferredVueProject-refresh-member-1-"></a>

#### [refresh](#-vuedx-analyze-InferredVueProject-refresh-member-1-)



**Signature:**
```ts
protected refresh(): void;
```


<br>
</details>

<br>


<a href="#-vuedx-analyze-VueProject-class" id="-vuedx-analyze-VueProject-class"></a>

### [VueProject](#-vuedx-analyze-VueProject-class)



<details><summary>More info</summary>

**Signature:**
```ts
declare abstract class VueProject {
  protected _config: Readonly<ProjectConfigNormalized>;
  protected _externalComponents: ComponentRegistrationInfo[];
  protected _fileNames: string[];
  protected _globalComponents: ComponentRegistrationInfo[];
  protected _projectComponents: Map<string, ComponentRegistrationInfo[]>;
  protected _version: string;
  constructor(rootDir: string, packageFile: string | undefined, packageJSON: Partial<PackageJSON>, requireModule?: NodeJS.Require);
  get components(): ComponentRegistrationInfo[];
  get config(): Readonly<ProjectConfigNormalized>;
  get fileNames(): string[];
  get globalComponents(): ComponentRegistrationInfo[];
  protected isDirty: boolean;
  abstract kind: 'inferred' | 'configured';
  protected loadGlobalComponents(): void;
  markDirty(): void;
  readonly packageFile: string | undefined;
  packageJSON: PackageJSON;
  protected abstract refresh(): void;
  protected reloadIfNeeded(): void;
  protected readonly requireModule: NodeJS.Require;
  readonly rootDir: string;
  setConfig(config: ProjectConfig): void;
  setFileNames(fileNames: string[]): void;
  get version(): string;
  get vueFileNames(): string[];
}
```

**Members:**


<a href="#-vuedx-analyze-VueProject-loadGlobalComponents-member-1-" id="-vuedx-analyze-VueProject-loadGlobalComponents-member-1-"></a>

#### [loadGlobalComponents](#-vuedx-analyze-VueProject-loadGlobalComponents-member-1-)



**Signature:**
```ts
protected loadGlobalComponents(): void;
```


<br>

<a href="#-vuedx-analyze-VueProject-markDirty-member-1-" id="-vuedx-analyze-VueProject-markDirty-member-1-"></a>

#### [markDirty](#-vuedx-analyze-VueProject-markDirty-member-1-)



**Signature:**
```ts
markDirty(): void;
```


<br>

<a href="#-vuedx-analyze-VueProject-refresh-member-1-" id="-vuedx-analyze-VueProject-refresh-member-1-"></a>

#### [refresh](#-vuedx-analyze-VueProject-refresh-member-1-)



**Signature:**
```ts
protected abstract refresh(): void;
```


<br>

<a href="#-vuedx-analyze-VueProject-reloadIfNeeded-member-1-" id="-vuedx-analyze-VueProject-reloadIfNeeded-member-1-"></a>

#### [reloadIfNeeded](#-vuedx-analyze-VueProject-reloadIfNeeded-member-1-)



**Signature:**
```ts
protected reloadIfNeeded(): void;
```


<br>

<a href="#-vuedx-analyze-VueProject-setConfig-member-1-" id="-vuedx-analyze-VueProject-setConfig-member-1-"></a>

#### [setConfig](#-vuedx-analyze-VueProject-setConfig-member-1-)



**Signature:**
```ts
setConfig(config: ProjectConfig): void;
```

| Parameter | Type | Description |
| --- | --- | --- |
| config | <code><a href="#-vuedx-projectconfig--ProjectConfig-interface">ProjectConfig</a></code> | - |

<br>

<a href="#-vuedx-analyze-VueProject-setFileNames-member-1-" id="-vuedx-analyze-VueProject-setFileNames-member-1-"></a>

#### [setFileNames](#-vuedx-analyze-VueProject-setFileNames-member-1-)



**Signature:**
```ts
setFileNames(fileNames: string[]): void;
```

| Parameter | Type | Description |
| --- | --- | --- |
| fileNames | <code>string[]</code> | - |

<br>
</details>

<br>


<a href="#-vuedx-analyze-createAnalyzer-function-1-" id="-vuedx-analyze-createAnalyzer-function-1-"></a>

### [createAnalyzer](#-vuedx-analyze-createAnalyzer-function-1-)



<details>
<summary>More info</summary>

**Signature:**
```ts
declare function createAnalyzer(plugins: Plugin[], options?: Partial<Context['parsers']>): Analyzer;
```

| Parameter | Type | Description |
| --- | --- | --- |
| plugins | <code><a href="#-vuedx-analyze--Plugin-interface">Plugin</a>[]</code> | - |
| options | <code><a href="#-Partial-type">Partial</a><<a href="#-vuedx-analyze--Context-interface">Context</a>['parsers']></code> | - |

</details>
<br>

<a href="#-vuedx-analyze-createFullAnalyzer-function-1-" id="-vuedx-analyze-createFullAnalyzer-function-1-"></a>

### [createFullAnalyzer](#-vuedx-analyze-createFullAnalyzer-function-1-)



<details>
<summary>More info</summary>

**Signature:**
```ts
declare function createFullAnalyzer(plugins?: Plugin[], options?: Partial<Context['parsers']>): ReturnType<typeof createAnalyzer>;
```

| Parameter | Type | Description |
| --- | --- | --- |
| plugins | <code><a href="#-vuedx-analyze--Plugin-interface">Plugin</a>[]</code> | - |
| options | <code><a href="#-Partial-type">Partial</a><<a href="#-vuedx-analyze--Context-interface">Context</a>['parsers']></code> | - |

</details>
<br>

<a href="#-vuedx-analyze-createSourceRange-function-1-" id="-vuedx-analyze-createSourceRange-function-1-"></a>

### [createSourceRange](#-vuedx-analyze-createSourceRange-function-1-)



<details>
<summary>More info</summary>

**Signature:**
```ts
declare function createSourceRange(context: Context | ScriptAnalyzerContext, node: Node): SourceRange;
```

| Parameter | Type | Description |
| --- | --- | --- |
| context | <code><a href="#-vuedx-analyze--Context-interface">Context</a> &#124; <a href="#-vuedx-analyze--ScriptAnalyzerContext-interface">ScriptAnalyzerContext</a></code> | - |
| node | <code><a href="#-babel-types-Node-type">Node</a></code> | - |

</details>
<br>

<a href="#-vuedx-analyze-transformToFunction-function-1-" id="-vuedx-analyze-transformToFunction-function-1-"></a>

### [transformToFunction](#-vuedx-analyze-transformToFunction-function-1-)



<details>
<summary>More info</summary>

**Signature:**
```ts
declare function transformToFunction(content: string, options?: FunctionTransformOptions): string;
```

| Parameter | Type | Description |
| --- | --- | --- |
| content | <code>string</code> | - |
| options | <code><a href="#-vuedx-analyze--FunctionTransformOptions-interface">FunctionTransformOptions</a></code> | - |

</details>
<br>

## Types


<a href="#-vuedx-analyze-Analyzer-interface" id="-vuedx-analyze-Analyzer-interface"></a>

### [Analyzer](#-vuedx-analyze-Analyzer-interface)



```ts
interface Analyzer {
  analyze: (content: string, fileName?: string) => ComponentInfo;
  analyzeScript: (content: string, fileName?: string, mode?: 'script' | 'scriptSetup') => ComponentInfo;
  analyzeTemplate: (content: string, fileName?: string) => ComponentInfo;
}
```


<br>

<a href="#-vuedx-analyze-ComponentInfo-interface" id="-vuedx-analyze-ComponentInfo-interface"></a>

### [ComponentInfo](#-vuedx-analyze-ComponentInfo-interface)



```ts
interface ComponentInfo {
  components: LocalComponentRegistrationInfo[];
  emits: EmitInfo[];
  errors: SyntaxError[];
  fnSetupOption?: SetupInfo;
  identifierSource: Record<string, IdentifierSource>;
  options?: ComponentOptionsInfo;
  props: PropInfo[];
  scriptSetup?: ScriptSetupInfo;
}
```


<br>

<a href="#-vuedx-analyze-ComponentRegistrationInfo-interface" id="-vuedx-analyze-ComponentRegistrationInfo-interface"></a>

### [ComponentRegistrationInfo](#-vuedx-analyze-ComponentRegistrationInfo-interface)



```ts
interface ComponentRegistrationInfo {
  aliases: string[];
  name: string;
  source: ImportSource;
}
```


<br>

<a href="#-vuedx-analyze-EmitInfo-interface" id="-vuedx-analyze-EmitInfo-interface"></a>

### [EmitInfo](#-vuedx-analyze-EmitInfo-interface)



```ts
interface EmitInfo extends Taggable, Addressable {
  description: string;
  isDynamic: boolean;
  isInferred: boolean;
  name: string;
  references: SourceRange[];
  type: TypeInfo[];
}
```


<br>

<a href="#-vuedx-analyze-IdentifierSource-interface" id="-vuedx-analyze-IdentifierSource-interface"></a>

### [IdentifierSource](#-vuedx-analyze-IdentifierSource-interface)



```ts
interface IdentifierSource extends Addressable {
  name: string;
}
```


<br>

<a href="#-vuedx-analyze-ImportSource-interface" id="-vuedx-analyze-ImportSource-interface"></a>

### [ImportSource](#-vuedx-analyze-ImportSource-interface)



```ts
interface ImportSource {
  exportName?: string;
  localName: string;
  moduleName: string;
}
```


<br>

<a href="#-vuedx-analyze-ImportSourceWithLocation-interface" id="-vuedx-analyze-ImportSourceWithLocation-interface"></a>

### [ImportSourceWithLocation](#-vuedx-analyze-ImportSourceWithLocation-interface)



```ts
interface ImportSourceWithLocation extends ImportSource, Addressable {
}
```


<br>

<a href="#-vuedx-analyze-LocalComponentRegistrationInfo-interface" id="-vuedx-analyze-LocalComponentRegistrationInfo-interface"></a>

### [LocalComponentRegistrationInfo](#-vuedx-analyze-LocalComponentRegistrationInfo-interface)



```ts
interface LocalComponentRegistrationInfo extends ComponentRegistrationInfo, Addressable {
  kind: 'script' | 'scriptSetup';
  source: ImportSourceWithLocation;
}
```


<br>

<a href="#-vuedx-analyze-Plugin-2-interface" id="-vuedx-analyze-Plugin-2-interface"></a>

### [Plugin](#-vuedx-analyze-Plugin-2-interface)



```ts
interface Plugin {
  babel?: AbstractScriptAnalyzerFn | AbstractAnalyzerHandler;
  blocks?: Partial<{
        script: BlockAnalyzer<SFCScriptBlock>;
        template: BlockAnalyzer<SFCTemplateBlock>;
        style: BlockAnalyzer<SFCStyleBlock>;
    }> & Record<string, BlockAnalyzer<any>>;
  declaration?: ComponentDeclarationAnalyzer[];
  options?: ComponentOptionsAnalyzer[] | Record<string, AbstractScriptAnalyzerFn<ObjectMember>>;
  setup?: ComponentSetupFnAnalyzer[];
  templateExpression?: (node: File, context: Context) => void;
}
```


<br>

<a href="#-vuedx-analyze-PropInfo-interface" id="-vuedx-analyze-PropInfo-interface"></a>

### [PropInfo](#-vuedx-analyze-PropInfo-interface)



```ts
interface PropInfo extends Taggable, Addressable {
  defaultValue: ValueInfo | null;
  description: string;
  name: string;
  required: boolean;
  type: TypeInfo[];
}
```


<br>

<a href="#-vuedx-analyze-ScriptSetupInfo-interface" id="-vuedx-analyze-ScriptSetupInfo-interface"></a>

### [ScriptSetupInfo](#-vuedx-analyze-ScriptSetupInfo-interface)



```ts
interface ScriptSetupInfo {
  defineEmit?: Addressable;
  defineProps?: Addressable;
}
```


<br>

<a href="#-vuedx-analyze-SetupInfo-interface" id="-vuedx-analyze-SetupInfo-interface"></a>

### [SetupInfo](#-vuedx-analyze-SetupInfo-interface)



```ts
interface SetupInfo extends Addressable {
  context?: {
        identifiers: Partial<{
            attrs: string;
            slots: string;
            emit: string;
        }>;
        rest?: string;
    } & Addressable;
  props?: {
        identifiers: string[];
        rest?: string;
    } & Addressable;
  return?: Addressable;
}
```


<br>

<a href="#-vuedx-analyze-SourceRange-interface" id="-vuedx-analyze-SourceRange-interface"></a>

### [SourceRange](#-vuedx-analyze-SourceRange-interface)



```ts
interface SourceRange {
  end: SourceLocation;
  source: string;
  start: SourceLocation;
}
```


<br>

<a href="#-vuedx-analyze-SyntaxError-2-interface" id="-vuedx-analyze-SyntaxError-2-interface"></a>

### [SyntaxError](#-vuedx-analyze-SyntaxError-2-interface)



```ts
interface SyntaxError {
  loc: SourceLocation;
  message: string;
}
```


<br>
<!-- #region API-DOCS -->
